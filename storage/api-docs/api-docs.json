{
    "openapi": "3.1.0",
    "info": {
        "title": "API Системы Управления Домашней Библиотекой",
        "version": "0.1.5"
    },
    "servers": [
        {
            "url": "http://localhost/api/v1",
            "description": "Локальный сервер."
        }
    ],
    "paths": {
        "/book": {
            "post": {
                "tags": [
                    "book"
                ],
                "summary": "Создание новой книги",
                "description": "Запрос на создание книги.",
                "operationId": "f8e5277f29dea63d344f5b9b4a84403a",
                "requestBody": {
                    "description": "JSON объект для создания новой книги",
                    "content": {
                        "application/json": {
                            "schema": {
                                "description": "Тело запроса.",
                                "required": [
                                    "title",
                                    "author_id"
                                ],
                                "properties": {
                                    "title": {
                                        "description": "Название книги",
                                        "type": "string"
                                    },
                                    "author_id": {
                                        "description": "ID автора книги.",
                                        "type": "integer"
                                    }
                                },
                                "type": "object",
                                "maxLength": 150
                            },
                            "example": {
                                "title": "Как войти в IT.",
                                "author_id": 1
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "description": "Сообщение об успешном создании книги.",
                                            "type": "string"
                                        },
                                        "book": {
                                            "description": "Информация о книге.",
                                            "properties": {
                                                "id": {
                                                    "description": "ID книги.",
                                                    "type": "integer"
                                                },
                                                "author": {
                                                    "description": "Информация о авторе книги.",
                                                    "properties": {
                                                        "id": {
                                                            "description": "ID автора.",
                                                            "type": "integer"
                                                        },
                                                        "surname": {
                                                            "description": "Фамилия автора",
                                                            "type": "string"
                                                        },
                                                        "name": {
                                                            "description": "Имя автора",
                                                            "type": "string"
                                                        },
                                                        "patronymic": {
                                                            "description": "Отчество автора",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                },
                                "example": {
                                    "message": "Книга успешно создана.",
                                    "book": {
                                        "id": 1,
                                        "title": "Как войти в IT.",
                                        "author": {
                                            "id": 1,
                                            "surname": "Иванов",
                                            "name": "Иван",
                                            "patronymic": "Иванович"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/not_found"
                    },
                    "422": {
                        "$ref": "#/components/responses/book_validation_errors"
                    },
                    "401": {
                        "$ref": "#/components/responses/unauthenticated"
                    }
                }
            }
        },
        "/book/{book}": {
            "get": {
                "tags": [
                    "book"
                ],
                "summary": "Информация о книге",
                "description": "Запрос на вывод детальной информации о конкретной книге.",
                "operationId": "a7fd9a8270fcbf3f328d0a7522f75d40",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/book"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "description": "Данные о книге",
                                            "properties": {
                                                "id": {
                                                    "description": "ID книги",
                                                    "type": "integer"
                                                },
                                                "title": {
                                                    "description": "Название книги",
                                                    "type": "string"
                                                },
                                                "author": {
                                                    "description": "Автор книги.",
                                                    "properties": {
                                                        "id": {
                                                            "description": "ID автора",
                                                            "type": "integer"
                                                        },
                                                        "surname": {
                                                            "description": "Фамилия автора",
                                                            "type": "string"
                                                        },
                                                        "name": {
                                                            "description": "Имя автора",
                                                            "type": "string"
                                                        },
                                                        "patronymic": {
                                                            "description": "Отчество автора",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                },
                                "example": {
                                    "data": {
                                        "id": 1,
                                        "title": "Как войти в IT.",
                                        "author": {
                                            "id": 1,
                                            "surname": "Иванов",
                                            "name": "Иван",
                                            "patronymic": "Иванович"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/not_found"
                    },
                    "401": {
                        "$ref": "#/components/responses/unauthenticated"
                    }
                }
            },
            "put": {
                "tags": [
                    "book"
                ],
                "summary": "Обновление книги",
                "description": "Запрос на обновление информации о конкретной книге.",
                "operationId": "7c92b1861a593a393fd4cba9ff826cb9",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/book"
                    }
                ],
                "requestBody": {
                    "description": "JSON объект для создания новой книги",
                    "content": {
                        "application/json": {
                            "schema": {
                                "description": "Тело запроса.",
                                "required": [
                                    "title",
                                    "author_id"
                                ],
                                "properties": {
                                    "title": {
                                        "description": "Название книги",
                                        "type": "string"
                                    },
                                    "author_id": {
                                        "description": "ID автора книги.",
                                        "type": "integer"
                                    }
                                },
                                "type": "object",
                                "maxLength": 150
                            },
                            "example": {
                                "title": "Как выйти из IT.",
                                "author_id": 2
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "description": "Сообщение об успешном создании книги.",
                                            "type": "string"
                                        },
                                        "book": {
                                            "description": "Информация о книге.",
                                            "properties": {
                                                "id": {
                                                    "description": "ID книги.",
                                                    "type": "integer"
                                                },
                                                "author": {
                                                    "description": "Информация о авторе книги.",
                                                    "properties": {
                                                        "id": {
                                                            "description": "ID автора.",
                                                            "type": "integer"
                                                        },
                                                        "surname": {
                                                            "description": "Фамилия автора",
                                                            "type": "string"
                                                        },
                                                        "name": {
                                                            "description": "Имя автора",
                                                            "type": "string"
                                                        },
                                                        "patronymic": {
                                                            "description": "Отчество автора",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                },
                                "example": {
                                    "message": "Книга успешно обновлена.",
                                    "book": {
                                        "id": 1,
                                        "title": "Как выйти из IT.",
                                        "author": {
                                            "id": 2,
                                            "surname": "Пупкин",
                                            "name": "Василий",
                                            "patronymic": "Васильевич"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/not_found"
                    },
                    "422": {
                        "$ref": "#/components/responses/book_validation_errors"
                    },
                    "401": {
                        "$ref": "#/components/responses/unauthenticated"
                    }
                }
            },
            "delete": {
                "tags": [
                    "book"
                ],
                "summary": "Удаление книги",
                "description": "Запрос на удаление конкретной книги.",
                "operationId": "5b2b123542f2cdd60641d79c4ed4369e",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/book"
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "404": {
                        "$ref": "#/components/responses/not_found"
                    },
                    "401": {
                        "$ref": "#/components/responses/unauthenticated"
                    }
                }
            }
        }
    },
    "components": {
        "responses": {
            "not_found": {
                "description": "Not Found",
                "content": {
                    "application/json": {
                        "schema": {
                            "properties": {
                                "message": {
                                    "description": "Сообщение",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        },
                        "example": {
                            "message": "Запрашиваемый ресурс не найден"
                        }
                    }
                }
            },
            "book_validation_errors": {
                "description": "Unprocessable Content",
                "content": {
                    "application/json": {
                        "schema": {
                            "properties": {
                                "message": {
                                    "description": "Сообщение об ошибках.",
                                    "type": "string"
                                },
                                "errors": {
                                    "description": "Перечисление ощибок валидации",
                                    "properties": {},
                                    "type": "object"
                                }
                            },
                            "type": "object"
                        },
                        "example": {
                            "message": "The title field is required. (and 1 more error)",
                            "errors": {
                                "title": [
                                    "The title field is required."
                                ],
                                "author_id": [
                                    "The author_id field is required."
                                ]
                            }
                        }
                    }
                }
            },
            "unauthenticated": {
                "description": "Unauthorized",
                "content": {
                    "application/json": {
                        "schema": {
                            "properties": {
                                "message": {
                                    "description": "Сообщение",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        },
                        "example": {
                            "message": "Unauthenticated."
                        }
                    }
                }
            }
        },
        "parameters": {
            "book": {
                "name": "book",
                "in": "path",
                "description": "Идентификатор книги",
                "required": true,
                "schema": {
                    "type": "integer"
                }
            }
        },
        "securitySchemes": {
            "sanctum": {
                "type": "apiKey",
                "description": "Enter token in format (Bearer <token>)",
                "name": "Authorization",
                "in": "header"
            }
        }
    },
    "tags": [
        {
            "name": "book",
            "description": "Все эндпоинты API, относящиеся к книгам"
        }
    ],
    "security": [
        {
            "sanctum": []
        }
    ]
}